<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>6 - Después de Análisis Rasch: Análisis descriptivo • whomds</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="6 - Después de Análisis Rasch: Análisis descriptivo">
<meta property="og:description" content="whomds">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">whomds</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1.9023</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/c1_background_EN.html">1 - Background on disability measurement</a>
    </li>
    <li>
      <a href="../articles/c1_background_ES.html">1 - Antecedentes sobre la medición de discapacidad</a>
    </li>
    <li>
      <a href="../articles/c2_getting_started_EN.html">2 - Getting started with WHO package for Rasch Analysis</a>
    </li>
    <li>
      <a href="../articles/c2_getting_started_ES.html">2 - Empezar con el paquete de OMS para Análisis Rasch</a>
    </li>
    <li>
      <a href="../articles/c3_rasch_adults_EN.html">3 - Rasch Analysis for MDS data from adults</a>
    </li>
    <li>
      <a href="../articles/c3_rasch_adults_ES.html">3 - Análisis Rasch con los datos de adultos de MDS</a>
    </li>
    <li>
      <a href="../articles/c4_rasch_children_EN.html">4 - Rasch Analysis for MDS data from children</a>
    </li>
    <li>
      <a href="../articles/c4_rasch_children_ES.html">4 - Análisis Rasch con los datos de niños de MDS</a>
    </li>
    <li>
      <a href="../articles/c5_best_practices_EN.html">5 - Best practices with Rasch Analysis</a>
    </li>
    <li>
      <a href="../articles/c5_best_practices_ES.html">5 - Mejores prácticas con Análisis Rasch</a>
    </li>
    <li>
      <a href="../articles/c6_after_rasch_EN.html">6 - After Rasch Analysis: Descriptive Analysis</a>
    </li>
    <li>
      <a href="../articles/c6_after_rasch_ES.html">6 - Después de Análisis Rasch: Análisis descriptivo</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lindsayevanslee/whomds/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="c6_after_rasch_ES_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>6 - Después de Análisis Rasch: Análisis descriptivo</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lindsayevanslee/whomds/blob/HEAD/vignettes/c6_after_rasch_ES.Rmd" class="external-link"><code>vignettes/c6_after_rasch_ES.Rmd</code></a></small>
      <div class="hidden name"><code>c6_after_rasch_ES.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="unir-puntajes-con-datos-originales">Unir puntajes con datos originales<a class="anchor" aria-label="anchor" href="#unir-puntajes-con-datos-originales"></a>
</h2>
<p>Una vez que haya terminado con Rasch Analysis, la puntuación se genera en el archivo <code>Data_final.csv</code> en la columna llamada <code>rescaled</code>. Este archivo solo contendrá los individuos incluidos en el análisis. Cualquier persona que tenga demasiados valores perdidos (<code>NA</code>) no estará en este archivo. A menudo es recomendable combinar los datos originales con todos los individuos con las nuevas puntuaciones. Cualquier persona que no haya calculado una puntuación tendrá un <code>NA</code> en esta columna.</p>
<p>Esta unión se puede lograr con el siguiente código. Primero, abre el paquete llamada <code>tidyverse</code> para acceder a las funciones necesarias. A continuación, lee el archivo <code>Data_final.csv</code> y selecciona solo las columnas que necesitas: <code>ID</code> (o cualquiera que sea el nombre de la columna de identificación individual en sus datos) y <code>rescaled</code>. El siguiente código asume que el archivo está en su directorio operativo. Tendrás que incluir la ruta completa al archivo si no está actualmente en su directorio operativo. Finalmente, puedes crear un objeto <code>merged_data</code> que fusione sus datos originales, aquí representados con el objeto <code>original_data</code>, con la nueva puntuación en una columna renombrada a <code>"DisabilityScore"</code> con el siguiente código:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span>
<span class="va">new_score</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"Data_final.csv"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ID"</span>, <span class="st">"rescaled"</span><span class="op">)</span><span class="op">)</span>
<span class="va">merged_data</span> <span class="op">&lt;-</span> <span class="va">original_data</span> <span class="op">%&gt;%</span> 
  <span class="fu">left_join</span><span class="op">(</span><span class="va">new_score</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">rename</span><span class="op">(</span><span class="st">"DisabilityScore"</span> <span class="op">=</span> <span class="st">"rescaled"</span><span class="op">)</span></code></pre></div>
<p>Los datos de ejemplo incluidos en el paquete <code>whomds</code> llamado <code>df_adults</code> ya tienen una puntuación de Rasch combinada, en la columna <code>disability_score</code>.</p>
</div>
<div class="section level2">
<h2 id="después-de-rasch-análisis-descriptivo">Después de Rasch: análisis descriptivo<a class="anchor" aria-label="anchor" href="#despu%C3%A9s-de-rasch-an%C3%A1lisis-descriptivo"></a>
</h2>
<p>Después de calcular los puntajes de discapacidad con el Análisis Rasch, ahora estás listo para analizar los resultados de la encuesta mediante el cálculo de estadísticas descriptivas. El paquete <code>whomds</code> contiene funciones para crear tablas y figuras de estadísticas descriptivas. Esta sección repasará estas funciones.</p>
<div class="section level3">
<h3 id="tablas">Tablas<a class="anchor" aria-label="anchor" href="#tablas"></a>
</h3>
<p>Las funciones de estadísticas descriptivas incluidas en el paquete <code>whomds</code> son:</p>
<ul>
<li>
<code><a href="../reference/table_weightedpct.html">table_weightedpct()</a></code> - produce tablas ponderadas de N o %</li>
<li>
<code><a href="../reference/table_unweightedpctn.html">table_unweightedpctn()</a></code> - produce tablas no ponderadas de N y %</li>
<li>
<code><a href="../reference/table_basicstats.html">table_basicstats()</a></code> - calcula estadísticas básicas del número de miembros por grupo por hogar.</li>
</ul>
<p>Los argumentos de cada uno de estos códigos se describirán a continuación.</p>
<div class="section level4">
<h4 id="table_weightedpct">
<code>table_weightedpct()</code><a class="anchor" aria-label="anchor" href="#table_weightedpct"></a>
</h4>
<p><code>whomds</code> contiene una función llamada <code><a href="../reference/table_weightedpct.html">table_weightedpct ()</a></code> que calcula las tablas de resultados ponderados de la encuesta, desagregadas por variables especificadas. Los argumentos de esta función se pasan a funciones en el paquete <code>dplyr</code>.</p>
<p>A continuación se presentan los argumentos de la función:</p>
<ul>
<li>
<code>df</code> - el marco de datos con todas las variables de interés</li>
<li>
<code>vars_ids</code> - nombres de variables de los identificadores de cluster de encuesta</li>
<li>
<code>vars_strata</code> - nombres de variables de los estratos de la encuesta</li>
<li>
<code>vars_weights</code> - nombres de variables de los ponderaciones</li>
<li>
<code>formula_vars</code> - vector de los nombres de columna de las variables para las que desea imprimir los resultados</li>
<li>
<code>...</code> - captura expresiones para filtrar o transmutar los datos. Vee la descripción del argumento <code>willfilter</code> a continuación para más detalles.</li>
<li>
<code>formula_vars_levels</code> - vector numérico de los niveles de factor de las variables en <code>formula_vars</code>. Por defecto, la función asume que las variables tienen dos niveles: 0 y 1</li>
<li>
<code>by_vars</code> - las variables por las que desagregas</li>
<li>
<code>pct</code> - una variable lógica que indica si se deben calcular o no los porcentajes ponderados. El valor predeterminado es <code>TRUE</code> para porcentajes ponderados. Ajuste a <code>FALSE</code> para N ponderada</li>
<li>
<code>willfilter</code> - una variable que le dice a la función si filtrarás o no los datos por un valor particular.
<ul>
<li>Por ejemplo, si sus <code>formula_vars</code> tienen opciones de respuesta de 0 y 1 pero solo quieres mostrar los valores para 1, entonces diría que <code>willfilter = TRUE</code>. Luego, al final de la lista de argumentos, escribe una expresión para el filtro. En este caso, dirías <code>resp == 1</code>.</li>
<li>Si es <code>willfilter = FALSE</code>, entonces la función asumirá que desea “transmutar” los datos, en otras palabras, manipular las columnas de alguna manera, lo que para nosotros a menudo significa combinar las opciones de respuesta. Por ejemplo, si sus <code>formula_vars</code> tienen 5 opciones de respuesta, pero solo desea mostrar los resultados para la suma de las opciones <code>"Agree"</code> y <code>"StronglyAgree"</code>, (después de configurar <code>spread_key = "resp"</code> para extender el tabla por las opciones de respuesta) podrías escribir <code>willfilter = FALSE</code>, y luego directamente después de escribir la expresión para la transmutación, dándole un nuevo nombre de columna; en este caso, la expresión sería<code>NewColName = Agree + AgreeStrongly</code>. También escribe los nombres de las otras columnas que te gustaría mantener en la tabla final.</li>
<li>Si deja <code>willfilter</code> como su valor predeterminado de <code>NULL</code>, la función no filtrará ni transmutará los datos.</li>
</ul>
</li>
<li>
<code>add_totals</code>: una variable lógica que determina si se crean filas o columnas totales (según corresponda) que demuestren el margen que suma a 100. Manténlo como el valor predeterminado <code>FALSE</code> para no incluir los totales.</li>
<li>
<code>spread_key</code> - la variable para la que extiendas la tabla horizontalmente. Mantén como predeterminado <code>NULL</code> para no extender la tabla horizontalmente.</li>
<li>
<code>spread_value</code> - la variable con la que se llena la tabla después de una extensión horizontal. Por defecto, este argumento es <code>"prop"</code>, que es un valor creado internamente por la función y generalmente no necesita ser cambiado.</li>
<li>
<code>arrange_vars</code> - la lista de variables para la que organizas la tabla. Mantén como predeterminado <code>NULL</code> para dejar el arreglo como está.</li>
<li>
<code>include_SE</code> - una variable lógica que indica si se deben incluir los errores estándar en la tabla. Mantén como predeterminado <code>FALSE</code> para no incluir errores estándar. A partir de esta versión de <code>whomds</code>, no funciona si incluyes totales (<code>add_totals</code> es <code>TRUE</code>), extensión (<code>spread_key</code> no es <code>NULL</code>) o transmutación (<code>willfilter</code> es <code>FALSE</code>).</li>
</ul>
<p>Aquí hay algunos ejemplos de cómo se usaría <code><a href="../reference/table_weightedpct.html">table_weightedpct()</a></code> en la práctica. No todos los argumentos se establecen explícitamente en cada ejemplo, lo que significa que se mantienen como sus valores predeterminados.</p>
<div class="section level5">
<h5 id="ejemplo-1-tabla-larga-un-nivel-de-desagregación">Ejemplo 1: tabla larga, un nivel de desagregación<a class="anchor" aria-label="anchor" href="#ejemplo-1-tabla-larga-un-nivel-de-desagregaci%C3%B3n"></a>
</h5>
<p>Digamos que queremos imprimir una tabla del porcentaje de personas en cada nivel de discapacidad que dieron cada opción de respuesta para un conjunto de preguntas sobre el entorno general. Escribiríamos los argumentos de <code><a href="../reference/table_weightedpct.html">table_weightedpct()</a></code> de esta manera, y las primeras filas de la tabla se verían así:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Quitar NAs de la columna utilizada para el argumento by_vars</span>
<span class="va">df_adults_noNA</span> <span class="op">&lt;-</span> <span class="va">df_adults</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">disability_cat</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/table_weightedpct.html">table_weightedpct</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_adults_noNA</span>,
  vars_ids <span class="op">=</span> <span class="st">"PSU"</span>,
  vars_strata <span class="op">=</span> <span class="st">"strata"</span>,
  vars_weights <span class="op">=</span> <span class="st">"weight"</span>,
  formula_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"EF"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,
  formula_vars_levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,
  by_vars <span class="op">=</span> <span class="st">"disability_cat"</span>,
  spread_key <span class="op">=</span> <span class="cn">NULL</span>,
  spread_value <span class="op">=</span> <span class="st">"prop"</span>,
  arrange_vars <span class="op">=</span> <span class="cn">NULL</span>,
  willfilter <span class="op">=</span> <span class="cn">NULL</span>
  <span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 236 × 4</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   disability_cat, item [48]</span></span>
<span class="co">#&gt;    disability_cat item  resp   prop</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> No             EF1   1      42.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> No             EF1   2      15.8</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> No             EF1   3      15.2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> No             EF1   4      12.4</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> No             EF1   5      14.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> No             EF10  1      44.2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> No             EF10  2      10.5</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> No             EF10  3      22.8</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> No             EF10  4      11.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> No             EF10  5      10.9</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 226 more rows</span></span></code></pre></div>
<p>La tabla de resultados tiene 4 columnas: la variable por la que desagregamos los datos (<code>disability_cat</code>, es decir, el nivel de discapacidad), el elemento (<code>item</code>), la opción de respuesta (<code>resp</code>) y la proporción (<code>prop</code>).</p>
</div>
<div class="section level5">
<h5 id="ejemplo-2-tabla-ancha-un-nivel-de-desagregación">Ejemplo 2: tabla ancha, un nivel de desagregación<a class="anchor" aria-label="anchor" href="#ejemplo-2-tabla-ancha-un-nivel-de-desagregaci%C3%B3n"></a>
</h5>
<p>Esta larga tabla del ejemplo anterior es excelente para el análisis de datos, pero no excelente para leer a simple vista. Si queremos hacerlo más bonito, lo convertimos a “formato ancho” mediante “extensión” mediante una variable particular. Tal vez queremos extender por <code>disability_cat</code>. Nuestra ejecución de <code><a href="../reference/table_weightedpct.html">table_weightedpct()</a></code> ahora se vería así, y la tabla de salida sería:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/table_weightedpct.html">table_weightedpct</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_adults_noNA</span>,
  vars_ids <span class="op">=</span> <span class="st">"PSU"</span>,
  vars_strata <span class="op">=</span> <span class="st">"strata"</span>,
  vars_weights <span class="op">=</span> <span class="st">"weight"</span>,
  formula_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"EF"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,
  formula_vars_levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,
  by_vars <span class="op">=</span> <span class="st">"disability_cat"</span>,
  spread_key <span class="op">=</span> <span class="st">"disability_cat"</span>,
  spread_value <span class="op">=</span> <span class="st">"prop"</span>,
  arrange_vars <span class="op">=</span> <span class="cn">NULL</span>,
  willfilter <span class="op">=</span> <span class="cn">NULL</span>
  <span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 60 × 6</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   item [12]</span></span>
<span class="co">#&gt;    item  resp     No  Mild Moderate Severe</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> EF1   1      42.1 47.5     43.4   46.6 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> EF1   2      15.8 15.3     17.2   11.9 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> EF1   3      15.2 14.2     14.3   15.0 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> EF1   4      12.4  9.62    11.2   10.4 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> EF1   5      14.6 13.3     13.8   16.1 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> EF10  1      44.2 49.9     49.3   49.7 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> EF10  2      10.5 12.6     10.3    9.84</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> EF10  3      22.8 16.0     18.4   17.2 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> EF10  4      11.6 11.9     14.6   13.3 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> EF10  5      10.9  9.64     7.40   9.87</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 50 more rows</span></span></code></pre></div>
<p>Ahora podemos ver que nuestra columna <code>prop</code> se ha extendido horizontalmente para cada nivel de<code>disability_cat</code>.</p>
</div>
<div class="section level5">
<h5 id="ejemplo-3-tabla-amplia-un-nivel-de-desagregación-filtrado">Ejemplo 3: tabla amplia, un nivel de desagregación, filtrado<a class="anchor" aria-label="anchor" href="#ejemplo-3-tabla-amplia-un-nivel-de-desagregaci%C3%B3n-filtrado"></a>
</h5>
<p>Quizás, sin embargo, solo nos interesan las proporciones de la opción de respuesta más extrema de 5. Ahora podríamos agregar un filtro a nuestra ejecución a <code><a href="../reference/table_weightedpct.html">table_weightedpct()</a></code> así:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/table_weightedpct.html">table_weightedpct</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_adults_noNA</span>,
  vars_ids <span class="op">=</span> <span class="st">"PSU"</span>,
  vars_strata <span class="op">=</span> <span class="st">"strata"</span>,
  vars_weights <span class="op">=</span> <span class="st">"weight"</span>,
  formula_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"EF"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,
  formula_vars_levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,
  by_vars <span class="op">=</span> <span class="st">"disability_cat"</span>,
  spread_key <span class="op">=</span> <span class="st">"disability_cat"</span>,
  spread_value <span class="op">=</span> <span class="st">"prop"</span>,
  arrange_vars <span class="op">=</span> <span class="cn">NULL</span>,
  willfilter <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">resp</span> <span class="op">==</span> <span class="fl">5</span>
  <span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 6</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   item [12]</span></span>
<span class="co">#&gt;    item  resp     No   Mild Moderate Severe</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> EF1   5     14.6  13.3      13.8   16.1 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> EF10  5     10.9   9.64      7.40   9.87</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> EF11  5      1.75  0.974     2.27   1.75</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> EF12  5      4.38 <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> EF2   5      5.55  5.29      5.13   6.25</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> EF3   5      4.85  5.40      3.69   5.16</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> EF4   5      2.73  2.47      3.40   3.35</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> EF5   5     10.4  13.4       8.80  11.2 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> EF6   5      4.08  3.08      1.96   2.56</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> EF7   5      4.29  3.28      2.72   4.68</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span> EF8   5      2.28  1.29      1.19   2.41</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">12</span> EF9   5      5.20  3.59      4.89   5.26</span></code></pre></div>
<p>Ahora puede ver que solo se dan las proporciones para la opción de respuesta de 5.</p>
</div>
<div class="section level5">
<h5 id="ejemplo-4-tabla-ancha-múltiples-niveles-de-desagregación-filtrada">Ejemplo 4: tabla ancha, múltiples niveles de desagregación, filtrada<a class="anchor" aria-label="anchor" href="#ejemplo-4-tabla-ancha-m%C3%BAltiples-niveles-de-desagregaci%C3%B3n-filtrada"></a>
</h5>
<p>Con <code><a href="../reference/table_weightedpct.html">table_weightedpct()</a></code>, también podemos agregar más niveles de desagregación editando el argumento <code>by_vars</code>. Aquí produciremos la misma tabla que en el Ejemplo 3 anterior, pero ahora desagregada por nivel de discapacidad y sexo:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/table_weightedpct.html">table_weightedpct</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_adults_noNA</span>,
  vars_ids <span class="op">=</span> <span class="st">"PSU"</span>,
  vars_strata <span class="op">=</span> <span class="st">"strata"</span>,
  vars_weights <span class="op">=</span> <span class="st">"weight"</span>,
  formula_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"EF"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,
  formula_vars_levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,
  by_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"disability_cat"</span>, <span class="st">"sex"</span><span class="op">)</span>,
  spread_key <span class="op">=</span> <span class="st">"disability_cat"</span>,
  spread_value <span class="op">=</span> <span class="st">"prop"</span>,
  arrange_vars <span class="op">=</span> <span class="cn">NULL</span>,
  willfilter <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">resp</span> <span class="op">==</span> <span class="fl">5</span>
  <span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 24 × 7</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   sex, item [24]</span></span>
<span class="co">#&gt;    sex    item  resp     No  Mild Moderate Severe</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Female EF1   5     13.2  14.7     13.1   15.4 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Female EF10  5     11.1   9.91     6.41   9.62</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Female EF11  5      1.15  1.24     2.26   2.57</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Female EF12  5      3.60 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Female EF2   5      7.44  6.21     6.18   6.94</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Female EF3   5      4.60  6.32     4.02   4.62</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Female EF4   5      3.19  3.20     3.00   2.34</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Female EF5   5      8.61 13.1      9.77  10.3 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Female EF6   5      3.25  3.76     2.29   2.89</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Female EF7   5      4.44  4.12     2.76   2.34</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 14 more rows</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="ejemplo-5-tabla-ancha-niveles-múltiples-de-desagregación-transmutada">Ejemplo 5: tabla ancha, niveles múltiples de desagregación, transmutada<a class="anchor" aria-label="anchor" href="#ejemplo-5-tabla-ancha-niveles-m%C3%BAltiples-de-desagregaci%C3%B3n-transmutada"></a>
</h5>
<p>Quizás todavía estamos interesados no solo en la opción de respuesta 5, sino en la suma de 4 y 5 juntos. Podemos hacer esto “transmutando” nuestra tabla. Para hacer esto, primero elegimos “extender” por <code>resp</code> configurando <code>spread_key = "resp"</code>. Esto convertirá la tabla a un formato ancho como en el Ejemplo 2, pero ahora cada columna representará una opción de respuesta. Luego configuramos la transmutación estableciendo <code>willfilter = FALSE</code>, y agregando expresiones para la transmutación en la siguiente línea. Nombramos todas las columnas que nos gustaría mantener y damos una expresión de cómo crear la nueva columna de la suma de proporciones para las opciones de respuesta 4 y 5, aquí llamada “problemas”:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/table_weightedpct.html">table_weightedpct</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_adults_noNA</span>,
  vars_ids <span class="op">=</span> <span class="st">"PSU"</span>,
  vars_strata <span class="op">=</span> <span class="st">"strata"</span>,
  vars_weights <span class="op">=</span> <span class="st">"weight"</span>,
  formula_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"EF"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,
  formula_vars_levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,
  by_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"disability_cat"</span>, <span class="st">"sex"</span><span class="op">)</span>,
  spread_key <span class="op">=</span> <span class="st">"resp"</span>,
  spread_value <span class="op">=</span> <span class="st">"prop"</span>,
  arrange_vars <span class="op">=</span> <span class="cn">NULL</span>,
  willfilter <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">disability_cat</span>, <span class="va">sex</span>, <span class="va">item</span>, problems <span class="op">=</span> <span class="va">`4`</span><span class="op">+</span><span class="va">`5`</span>
  <span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 96 × 4</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   disability_cat, sex, item [96]</span></span>
<span class="co">#&gt;    disability_cat sex    item  problems</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> No             Female EF1      27.2 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> No             Female EF10     21.6 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> No             Female EF11      6.44</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> No             Female EF12      6.69</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> No             Female EF2      11.6 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> No             Female EF3       8.53</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> No             Female EF4       5.96</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> No             Female EF5      18.5 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> No             Female EF6       8.12</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> No             Female EF7      11.1 </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 86 more rows</span></span></code></pre></div>
<p>Si nos gustaría modificar la tabla nuevamente para que <code>disability_cat</code> represente las columnas nuevamente, podemos incluir esta tabla en otra función que realizará el “pivot”. La función para extender tablas se llama <code>pivot_wider()</code>, y está en el paquete <code>tidyr</code>. Para realizar una segunda extensión, escribe el código así:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/table_weightedpct.html">table_weightedpct</a></span><span class="op">(</span>
  df <span class="op">=</span> <span class="va">df_adults_noNA</span>,
  vars_ids <span class="op">=</span> <span class="st">"PSU"</span>,
  vars_strata <span class="op">=</span> <span class="st">"strata"</span>,
  vars_weights <span class="op">=</span> <span class="st">"weight"</span>,
  formula_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"EF"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,
  formula_vars_levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,
  by_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"disability_cat"</span>, <span class="st">"sex"</span><span class="op">)</span>,
  spread_key <span class="op">=</span> <span class="st">"resp"</span>,
  spread_value <span class="op">=</span> <span class="st">"prop"</span>,
  arrange_vars <span class="op">=</span> <span class="cn">NULL</span>,
  willfilter <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">disability_cat</span>, <span class="va">sex</span>, <span class="va">item</span>, problems <span class="op">=</span> <span class="va">`4`</span><span class="op">+</span><span class="va">`5`</span>
  <span class="op">)</span> <span class="op">%&gt;%</span> 
    <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">disability_cat</span>, values_from <span class="op">=</span> <span class="va">problems</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 24 × 6</span></span>
<span class="co">#&gt; <span style="color: #949494;"># Groups:   sex, item [24]</span></span>
<span class="co">#&gt;    sex    item     No  Mild Moderate Severe</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Female EF1   27.2  25.0     22.2   25.2 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Female EF10  21.6  19.7     22.6   20.6 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Female EF11   6.44  5.19     5.98   8.61</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Female EF12   6.69 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Female EF2   11.6  11.2     11.4   13.8 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Female EF3    8.53 11.6      7.00   9.36</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Female EF4    5.96  4.69     6.35   4.37</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Female EF5   18.5  24.3     17.8   21.8 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Female EF6    8.12  8.72     5.06   5.33</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Female EF7   11.1   7.58     9.06   8.69</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 14 more rows</span></span></code></pre></div>
<p>El argumento <code>names_from</code> de la función <code>pivot_wider()</code> le dice a <code>R</code> qué variable usar como columnas, y <code>values_from</code> le dice a<code>R</code> con qué llenar las columnas. El operador <code>%&gt;%</code> se conoce comúnmente como una <em>“pipe”</em>. Pone el objeto anterior en el primer argumento de la función posterior. Por ejemplo, si tiene un objeto <code>x</code> y una función <code>f</code>, escribir <code>x %&gt;% f ()</code> sería el equivalente a escribir <code>f(x)</code>. Las personas usan <em>“pipes”</em> porque hacen que las secuencias largas de código sean más fáciles de leer.</p>
</div>
</div>
<div class="section level4">
<h4 id="table_unweightedpctn">
<code>table_unweightedpctn()</code><a class="anchor" aria-label="anchor" href="#table_unweightedpctn"></a>
</h4>
<p><code>whomds</code> contiene una función llamada <code><a href="../reference/table_unweightedpctn.html">table_unweightedpctn()</a></code> que produce tablas no ponderadas de N y %. Esto se utiliza generalmente para tablas demográficas. Sus argumentos son los siguientes:</p>
<ul>
<li>
<code>df</code> - el marco de datos con todas las variables de interés</li>
<li>
<code>vars_demo</code> - vector con los nombres de las variables demográficas para las que se calcularán N y %</li>
<li>
<code>group_by_var</code>: nombre de la variable en la que se deben estratificar las estadísticas (por ejemplo, <code>"disability_cat"</code>)</li>
<li>
<code>spread_by_group_by_var</code> - determina lógicamente si se debe extender la tabla mediante la variable dada en <code>group_by_var</code>. El valor predeterminado es <code>FALSE</code>.</li>
<li>
<code>group_by_var_sums_to_100</code> - determina lógicamente si los porcentajes suman 100 en el margen de <code>group_by_var</code>, si corresponde. El valor predeterminado es <code>FALSE</code>.</li>
<li>
<code>add_totals</code>: una variable lógica que determina si se crean filas o columnas totales (según corresponda) que demuestren el margen que suma 100. Manténlo como el valor predeterminado <code>FALSE</code> para no incluir los totales.</li>
</ul>
<p>Aquí hay un ejemplo de cómo se usa:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/table_unweightedpctn.html">table_unweightedpctn</a></span><span class="op">(</span><span class="va">df_adults_noNA</span>, 
                     vars_demo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"age_cat"</span>, <span class="st">"work_cat"</span>, <span class="st">"edu_cat"</span><span class="op">)</span>, 
                     group_by_var <span class="op">=</span> <span class="st">"disability_cat"</span>, 
                     spread_by_group_by_var <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 10</span></span>
<span class="co">#&gt;    item    demo  No_pct  No_n Mild_pct Mild_n Moderate_pct Moderate_n Severe_pct</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> sex     Fema…   52.5   287     53.5    250         49.9        376       49.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> sex     Male    47.5   260     46.5    217         50.1        377       50.9</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> age_cat 18-24    6.9    38      7.3     34          8.8         66        7.7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> age_cat 25-39   19.7   108     16.1     75         19.7        148       16.4</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> age_cat 40-64   32.4   177     33.2    155         29.3        221       32.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> age_cat 64-1…   41     224     43.5    203         42.2        318       43.2</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> work_c… N       41.7   228     40.5    189         42          316       42.3</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> work_c… Y       58.3   319     59.5    278         58          437       57.7</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> edu_cat None    21.8   119     16.7     78         21.4        161       19  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> edu_cat Elem…   37.8   207     38.8    181         39.7        299       41.3</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span> edu_cat Seco…   25     137     28.7    134         23.2        175       25.1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">12</span> edu_cat Univ…   15.4    84     15.8     74         15.7        118       14.6</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: Severe_n &lt;dbl&gt;</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="table_basicstats">
<code>table_basicstats()</code><a class="anchor" aria-label="anchor" href="#table_basicstats"></a>
</h4>
<p>La función <code><a href="../reference/table_basicstats.html">table_basicstats()</a></code> calcula estadísticas básicas del número de miembros por grupo por hogar. Sus argumentos son:</p>
<ul>
<li>
<code>df</code> - un marco de datos de datos de hogares donde las filas representan miembros de los hogares en la muestra</li>
<li>
<code>hh_id</code> - cadena (longitud 1) que indica el nombre de la variable en <code>df</code> que identifica hogares únicamente</li>
<li>
<code>group_by_var</code> - cadena (longitud 1) con el nombre de la variable en <code>df</code> para la que se agrupa los resultados</li>
</ul>
<p>Aquí hay un ejemplo de cómo se usa:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/table_basicstats.html">table_basicstats</a></span><span class="op">(</span><span class="va">df_adults_noNA</span>, <span class="st">"HHID"</span>, <span class="st">"age_cat"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 4</span></span>
<span class="co">#&gt;   age_cat mean_sd   median range</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 18-24   0.1 (0.3)      0 0 - 1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 25-39   0.2 (0.4)      0 0 - 1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 40-64   0.3 (0.5)      0 0 - 1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 64-100  0.4 (0.5)      0 0 - 1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Total   1 (0)          1 1 - 1</span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="figuras">Figuras<a class="anchor" aria-label="anchor" href="#figuras"></a>
</h3>
<p>Las funciones de las estadísticas descriptivas incluidas en el paquete <code>whomds</code> son:</p>
<ul>
<li>
<code><a href="../reference/fig_poppyramid.html">fig_poppyramid()</a></code> - produce una figura de pirámide de población para la muestra</li>
<li>
<code><a href="../reference/fig_dist.html">fig_dist()</a></code> - produce un gráfico de la distribución de una puntuación</li>
<li>
<code><a href="../reference/fig_density.html">fig_density()</a></code> - produce un gráfico de la densidad de una puntación</li>
</ul>
<p>Los argumentos de cada uno de estos códigos se describirán a continuación.</p>
<div class="section level4">
<h4 id="fig_poppyramid">
<code>fig_poppyramid()</code><a class="anchor" aria-label="anchor" href="#fig_poppyramid"></a>
</h4>
<p><code>whomds</code> contiene una función llamada <code><a href="../reference/fig_poppyramid.html">fig_poppyramid()</a></code> que produce una figura de pirámide de población para la muestra. Esta función toma como argumentos:</p>
<ul>
<li>
<code>df</code> - los datos donde cada fila es un miembro del hogar de la lista del hogar</li>
<li>
<code>var_age</code> - el nombre de la columna en <code>df</code> con las edades de las personas</li>
<li>
<code>var_sex</code> - el nombre de la columna en <code>df</code> con los sexos de las personas</li>
<li>
<code>x_axis</code> - una cadena que indica si se deben usar números absolutos o porcentaje de muestra en el eje horizontal. Las opciones son <code>"n"</code> (predeterminado) o <code>"pct"</code>.</li>
<li>
<code>age_plus</code> - un valor numérico que indica la edad que es el primer valor del grupo de edad más antiguo. El valor predeterminado es 100, para el último grupo de edad de 100 o más.</li>
<li>
<code>age_by</code> - un valor numérico que indica el ancho de cada grupo de edad, en años. El valor predeterminado es 5.</li>
</ul>
<p>Ejecutar esta función produce una figura como la siguiente:</p>
<p><img src="Images/pop_pyramid.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="fig_dist">
<code>fig_dist()</code><a class="anchor" aria-label="anchor" href="#fig_dist"></a>
</h4>
<p><code>whomds</code> contiene una función llamada <code><a href="../reference/fig_dist.html">fig_dist()</a></code> que produce un gráfico de la distribución de una puntuación. La OMS utiliza esta función para mostrar la distribución de las puntuaciones de discapacidad calculadas con el Análisis de Rasch. Sus argumentos son:</p>
<ul>
<li>
<code>df</code> - marco de datos con la puntuación de interés</li>
<li>
<code>score</code> - variable de carácter del nombre de variable de puntuación que va de 0 a 100; ej. <code>"disability_score"</code>
</li>
<li>
<code>score_cat</code> - variable de carácter del nombre de variable de categorización de puntuación, ej. <code>"disability_cat"</code>
</li>
<li>
<code>cutoffs</code> - un vector numérico de los puntos de corte para la categorización de puntuación</li>
<li>
<code>x_lab</code> - una cadena que da la etiqueta del eje horizontal. El valor predeterminado es <code>"Score"</code>
</li>
<li>
<code>y_max</code> - valor máximo para usar en el eje vertical. Si se deja como predeterminado <code>NULL</code>, la función calculará un máximo adecuado automaticamente.</li>
<li>
<code>pcent</code> - variable lógica que indica si se debe usar el porcentaje en el eje y o la frecuencia. Deje por defecto <code>FALSE</code> para la frecuencia y dé <code>TRUE</code> para el porcentaje.</li>
<li>
<code>pal</code> - una cadena que especifica el tipo de paleta de colores a usar, que se pasa a la función <code><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">RColorBrewer::brewer.pal()</a></code>. El valor predeterminado es <code>"Blues"</code>.</li>
<li>
<code>binwidth</code> - un valor numérico que da el ancho de los contenedores en el histógrafo. El valor predeterminado es 5.</li>
</ul>
<p>Ejecutar esta función produce una figura como la de abajo.</p>
<p><img src="Images/distribution.png" width="80%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="fig_density">
<code>fig_density()</code><a class="anchor" aria-label="anchor" href="#fig_density"></a>
</h4>
<p><code>whomds</code> contiene una función similar a <code><a href="../reference/fig_dist.html">fig_dist()</a></code> llamada <code><a href="../reference/fig_density.html">fig_density()</a></code> que produce un gráfico de la densidad de una puntuación. La OMS utiliza esta función para mostrar la distribución de densidad de las puntuaciones de discapacidad calculadas con el Análisis de Rasch. Sus argumentos son:</p>
<ul>
<li>
<code>df</code> - marco de datos con la puntuación de interés</li>
<li>
<code>score</code> - variable de carácter del nombre de variable de puntuación que va de 0 a 100; ej. <code>"disability_score"</code>
</li>
<li>
<code>var_color</code> - variable de carácter con el nombre de la columna que se usa para determinar los colores de las líneas de densidad. Se usa este variable para imprimir las densidades de diferentes groups en el mismo gráfico. El valor predeterminado es <code>NULL</code>.</li>
<li>
<code>var_facet</code> - variable de carácter con el nombre de la columna que se usa para crear un gráfico con <code><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">ggplot2::facet_grid()</a></code>, que se imprime las densidades de diferentes groups lado a lado. El valor predeterminado es <code>NULL</code>.</li>
<li>
<code>cutoffs</code> - un vector numérico de los puntos de corte para la categorización de puntuación</li>
<li>
<code>x_lab</code> - una cadena que da la etiqueta del eje horizontal. El valor predeterminado es <code>"Score"</code>
</li>
<li>
<code>pal</code> - una cadena que especifica un color manual para utilizar para el aestitico del color, un vector de carácter que especifica los colores que se usa para la escala de colores, o como el tipo de paleta de colores a usar para la escala de colores, que se pasa a la función <code><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">RColorBrewer::brewer.pal()</a></code>. El valor predeterminado es <code>"Paired"</code>
</li>
<li>
<code>adjust</code> - un valor numérico que se pasa al argumento <code>adjust</code> de <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">ggplot2::geom_density()</a></code>, que suaviza la función de la densidad. El valor predeterminado es 2.</li>
<li>
<code>size</code> - un valor numérico que se pasa al argumento <code>size</code> de <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">ggplot2::geom_density()</a></code>, que controla el espesor de las líneas. El valor predeterminado es 1.5.</li>
</ul>
<p>Ejecutar esta función produce una figura como la de abajo.</p>
<p><img src="Images/density.png" width="80%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level3">
<h3 id="plantillas-para-estadísticas-descriptivas">Plantillas para estadísticas descriptivas<a class="anchor" aria-label="anchor" href="#plantillas-para-estad%C3%ADsticas-descriptivas"></a>
</h3>
<p>La OMS también proporciona una plantilla para calcular muchas tablas de estadísticas descriptivas para su uso en informes de encuestas, también escritas en <code>R</code>. Si desea una plantilla para su país, contáctenos (por favor abre el archivo DESCRIPTION para obtender los detalles de contacto).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Lindsay Lee.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
